[mypy]
python_version = 3.12
strict = true
always_true = TYPE_CHECKING
mypy_path = custom_components

warn_unused_ignores = true
warn_redundant_casts = true
warn_unused_configs = true

ignore_missing_imports = true
follow_imports = silent

show_error_codes = true
pretty = true

exclude = ^(ha_config|\.venv|venv|\.mypy_cache|\.ruff_cache)/

# Home Assistant - don't check strict types
[mypy-homeassistant.*]
ignore_missing_imports = true

# Helper libraries used by Home Assistant
[mypy-voluptuous.*]
ignore_missing_imports = true

[mypy-aiohttp.*]
ignore_missing_imports = true

[mypy-async_timeout.*]
ignore_missing_imports = true

[mypy-pytest.*]
ignore_missing_imports = true

# Our custom component - be strict but allow Any from HA
[mypy-custom_components.montreal_aqi.*]
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
warn_return_any = false
